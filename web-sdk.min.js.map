{"version":3,"file":"web-sdk.min.js","sources":["../src/core/config.ts","../src/utils/index.ts","../src/plugins/device.ts","../src/plugins/autotrack.ts","../src/core/index.ts"],"sourcesContent":[null,null,null,null,null],"names":["DEFAULT_CONFIG","show_log","is_track_single_page","use_client_time","send_type","heatmap","web_url","undefined","cross_subdomain","source_channel","source_type","max_string_length","queue_timeout","datasend_timeout","preset_properties","sls","debug","autoTrack","generateUUID","d","Date","getTime","d2","performance","now","replace","c","r","Math","random","floor","toString","Logger","constructor","enabled","this","enable","disable","info","args","console","log","error","warn","Storage","get","key","localStorage","getItem","set","value","setItem","remove","removeItem","DeviceInfoPlugin","name","install","sdk","ua","navigator","userAgent","width","window","screen","height","language","os","indexOf","browser","$os","$browser","$screen_width","$screen_height","$language","$user_agent","registerCommonProperties","AutoTrackPlugin","heatmapConfig","config","trackPageView","disablePageview","props","$url","location","href","$title","document","title","$path","pathname","$referrer","referrer","track","readyState","addEventListener","originalPushState","history","pushState","apply","setTimeout","originalReplaceState","replaceState","disableClick","clickmap","e","heatmapConfigLocal","target","collect_url","collect_element","elementToTrack","isTrackable","current","parentElement","body","$element_id","id","$element_class_name","className","$element_content","getElementContent","$element_type","tagName","$element_selector","getSelector","$page_x","pageX","$page_y","pageY","custom_property","customProps","Object","assign","disableStay","scroll_notice_map","lastStart","inactivityTimer","totalStayMs","delay","scroll_delay_time","maxDurationSec","scroll_event_duration","emitStay","duration","capped","min","$duration","scheduleInactivity","clearTimeout","passive","flush","visibilityState","element","toLowerCase","hasAttribute","Array","isArray","track_attr","attr","includes","collect_tags","rule","max_level","depth","collect_input","innerText","element_selector","split","join","WebSDK","loginId","commonProperties","dynamicProperties","plugins","identities","queue","processing","logger","anonymousId","JSON","parse","init","sourceProps","parseSourceAttribution","keys","length","use","quick","command","el","trackHeatMap","trackAllHeatMap","plugin","push","staticProps","registerPage","clearCommonProperties","login","userId","storeSet","$original_id","identify","logout","storeRemove","bind","stringify","unbind","resetAnonymousIdentity","newId","setProfile","properties","setProfileOnce","incrementProfile","appendProfile","deleteProfile","unsetProfile","forEach","p","buildClickProperties","eventName","type","dynamicProps","val","originEventData","event","applyStringLimit","$time","time","distinct_id","anonymous_id","login_id","$identity_anonymous_id","$identity_cookie_id","$identity_login_id","eventData","event_type","event_data","send","getPresetProperties","$sdk_version","data","server_url","isSLSConfigValid","enqueue","next","shift","payload","onDone","sendSLS","url","blob","Blob","sendBeacon","sendAjax","finally","img","Image","onload","onerror","q","encodeURIComponent","src","endpoint","project","logstore","region","buildSLSUrl","base","path","params","APIVersion","__topic__","k","v","toQuery","pairs","String","method","controller","AbortController","timeout","timer","abort","fetch","headers","keepalive","signal","catch","err","domain","getRootDomain","cookie","host","hostname","test","parts","slice","qp","URL","searchParams","max","out"],"mappings":"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"}